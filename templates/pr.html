{% extends "main.html" %}
{% block title %}#{{ pr.number }} - {{ pr.title  }}{% endblock %}

{% block content -%}

<section>
<h1>#{{ pr.number }} - {{ pr.title  }}</h1>
    <summary>
        <p><a href="{{pr.html_url}}">Github</a></p>
        <span>Description</span>
        <details>
            {{- pr.body|markdown|safe -}}
        </details>
    </summary>
</section>

<section>
    <h3>Artifacts</h3>
    <ul>
        {%- for artifact in artifacts|reverse -%}
            <li><a href="{{ artifact.id }}/index.html">{{artifact.created_at_pretty}}</a> <small>({{"%.2f"|format(artifact.size_in_bytes/1024|float)}} kB large)</small></li>
        {%- endfor -%}
    </ul>
</section>


<div style="height:10em;"><canvas id="runtime"></canvas></div>     
<div style="height:10em;"><canvas id="testcases"></canvas></div>     

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="text/javascript" src="/script.js"></script>
<script type="text/javascript">
      const ctx = document.getElementById('runtime');
      new Chart(ctx, {{rtchart|tojson}});

      const ctx2 = document.getElementById('testcases');
      new Chart(ctx2, {{tcchart|tojson}});
</script>

{%- endblock %}